<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Tạo bàn cờ caro</title>
    <style>
        .input{
            background-color: dodgerblue;
            height: 35px;
            border-radius: 9px;
        }
    </style>
</head>
<body>

<div>
    <h2>Caro game</h2>
    <input type="button" value="Show caro" onclick="showArray();"><br><br>
    <span id="caro"></span>
    <input type="button" class="input" value="Change value" onclick="changeValue();">
</div>
<script>
    let result = document.getElementById("caro");
    let arrayA=[];
    let flag=true;

//Khởi tạo mười mảng -----------------------------------------------------------------------------------------------
    for (let i=0;i<10;i++){
        arrayA[i]=['<b>'+'.','.','.','.','.','.','.','.','.','.'+'</b>']
    }

//Hiển thị bàn cờ-------------------------------------------------------------------------------------------------------
    function showArray(){
        let data='';
        for (let i=0;i<arrayA.length;i++){
            data+="<br>";
            for (let j=0;j<arrayA[i].length;j++){
                data+=arrayA[i][j]+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;";
            }
        }
        data+="<br><br>";
        result.innerHTML=data;
    }

//Thay đổi giá trị tích x và o------------------------------------------------------------------------------------------
    function changeValue() {
        //let data='';
        let vitriX = prompt("Nhập vị trí x: ");
        let vitriY = prompt("Nhập vị trí y: ");
        if (arrayA[vitriX][vitriY] == 'X' || arrayA[vitriX][vitriY] == 'O') {
            alert("Vị trí này đã được tích")
        } else if (flag == true) {
            arrayA[vitriX][vitriY] = 'X';
            flag = !flag;
        } else {
            arrayA[vitriX][vitriY] = 'O';
            flag = !flag;
        }
        checkWin();
        showArray();
    }
    
//Check thắng-----------------------------------------------------------------------------------------------------------
    function checkWin() {
        for (let i = 0 ; i < 10 ; i++) {
            for (let j = 0 ; j < 10 ; j++) {
                if (arrayA[i][j] === "O" && arrayA[i][j + 1] === "O" && arrayA[i][j + 2] === "O" ||
                    arrayA[i][j] === "O" && arrayA[i + 1][j] === "O" && arrayA[i + 2][j] === "O" ||
                    arrayA[i][j] === "O" && arrayA[i + 1][j + 1] === "O" && arrayA[i + 2][j + 2] === "O" ||
                    arrayA[i][j] === "O" && arrayA[i - 1][j + 1] === "O" && arrayA[i - 2][j + 2] === "O") {
                    alert("O Win");
                }
                if (arrayA[i][j] === "X" && arrayA[i][j + 1] === "X" && arrayA[i][j + 2] === "X" ||
                    arrayA[i][j] === "X" && arrayA[i + 1][j] === "X" && arrayA[i + 2][j] === "X" ||
                    arrayA[i][j] === "X" && arrayA[i + 1][j + 1] === "X" && arrayA[i + 2][j + 2] === "X" ||
                    arrayA[i][j] === "X" && arrayA[i - 1][j + 1] === "X" && arrayA[i - 2][j + 2] === "X") {
                    alert("X Win");
                }
            }
        }
    }

</script>
</body>
</html>